"use strict";(self.webpackChunkmoney_guard=self.webpackChunkmoney_guard||[]).push([[36],{7036:(a,e,t)=>{t.r(e),t.d(e,{default:()=>k});var s=t(5043),i=t(3003),r=t(1900);const n={dasboardContainer:"StatisticsDashboard_dasboardContainer__8i4mX",dasboardInput:"StatisticsDashboard_dasboardInput__Xiuih"};var o=t(579);function l(){const a=(0,i.wA)(),[e,t]=(0,s.useState)((new Date).getFullYear()),[l,c]=(0,s.useState)((new Date).getMonth()+1),d=(new Date).getFullYear(),u=[d,d-1,d-2,d-3,d-4],b=(0,s.useRef)(),m=(0,s.useRef)();return(0,s.useEffect)((()=>{a((0,r.I)({month:l,year:e}))}),[a,l,e]),(0,o.jsxs)("div",{className:n.dasboardContainer,children:[(0,o.jsx)("select",{ref:b,className:n.dasboardInput,onChange:function(e){a((0,r.I)({month:b.current.value,year:m.current.value})),c(e.target.value)},value:l,name:"month",id:"month",children:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}].map((a=>(0,o.jsx)("option",{value:a.value,label:a.label},a.value)))}),(0,o.jsx)("select",{ref:m,className:n.dasboardInput,onChange:function(e){a((0,r.I)({month:b.current.value,year:m.current.value})),t(e.currentTarget.value)},value:e,name:"year",id:"year",children:u.map((a=>(0,o.jsx)("option",{value:a,children:a},a)))})]})}var c=t(108),d=t(9282),u=t(6150),b=t(3439),m=t(7869);t(7915),t(9867);const h=a=>a.statisticsSlice.error,v=a=>a.statisticsSlice.isLoading,C=a=>a.statisticsSlice.transactions,_=a=>a.statisticsSlice.transactionItems,x=()=>({statisticsLoading:(0,i.d4)(v),statisticsError:(0,i.d4)(h),statisticsTransactions:(0,i.d4)(C),statisticsTransactionItems:(0,i.d4)(_)}),g={chartContainer:"Chart_chartContainer__lkMhy",chartBalance:"Chart_chartBalance__4CXEk",chart:"Chart_chart__chhwP",tooltipContainer:"Chart_tooltipContainer__UyW0u",tooltipNameContainer:"Chart_tooltipNameContainer__8Ogxh",tooltipSumContainer:"Chart_tooltipSumContainer__OV2ui"};var f=t(8387);function p(){const{statisticsTransactions:a}=x(),e=null===a||void 0===a?void 0:a.categoriesSummary,t=null===e||void 0===e?void 0:e.filter((a=>"INCOME"!==a.type));function s(a){return null===t||void 0===t?void 0:t.find((e=>a===e.name))}const i=s("Main expenses"),r=i?Math.abs(null===i||void 0===i?void 0:i.total):0,n=s("Products"),l=n?Math.abs(null===n||void 0===n?void 0:n.total):0,h=s("Car"),v=h?Math.abs(null===h||void 0===h?void 0:h.total):0,C=s("Self care"),_=C?Math.abs(null===C||void 0===C?void 0:C.total):0,p=s("Child care"),N=p?Math.abs(null===p||void 0===p?void 0:p.total):0,T=s("Household products"),j=T?Math.abs(null===T||void 0===T?void 0:T.total):0,S=s("Education"),I=S?Math.abs(null===S||void 0===S?void 0:S.total):0,y=s("Leisure"),O=y?Math.abs(null===y||void 0===y?void 0:y.total):0,k=s("Other expenses"),M=k?Math.abs(null===k||void 0===k?void 0:k.total):0,E=s("Entertainment"),A=E?Math.abs(null===E||void 0===E?void 0:E.total):0,L=[r>0&&{name:"Main expenses",value:r,backgroundColor:"rgba(254, 208, 87, 1)",borderWidth:0,hoverOffset:5},l>0&&{name:"Products",value:l,backgroundColor:"rgba(255, 0, 255, 1)",borderWidth:0,hoverOffset:5},v>0&&{name:"Car",value:v,backgroundColor:"rgba(253, 148, 152, 1)",borderWidth:0,hoverOffset:5},_>0&&{name:"Self care",value:_,backgroundColor:"rgba(197, 186, 255, 1)",borderWidth:0,hoverOffset:5},N>0&&{name:"Child care",value:N,backgroundColor:"rgba(127, 255, 0, 1)",borderWidth:0,hoverOffset:5},j>0&&{name:"Household products",value:j,backgroundColor:"rgba(74, 86, 226, 1)",borderWidth:0,hoverOffset:5},I>0&&{name:"Education",value:I,backgroundColor:"rgba(0, 255, 255, 1)",borderWidth:0,hoverOffset:5},O>0&&{name:"Leisure",value:O,backgroundColor:"rgba(255, 119, 0, 1)",borderWidth:0,hoverOffset:5},M>0&&{name:"Other expenses",value:M,backgroundColor:"rgba(0, 173, 132, 1)",borderWidth:0,hoverOffset:5},A>0&&{name:"Entertainment",value:A,backgroundColor:"rgba(177, 15, 72, 1)",borderWidth:0,hoverOffset:5},{name:"Default",value:1e-10,backgroundColor:"rgba(255, 255, 255, 0.6)",borderWidth:0,hoverOffset:5}],W=L.sort(((a,e)=>Number(a.value)-Number(e.value)));console.log(W);return(0,o.jsxs)("div",{className:g.chartContainer,children:[(0,o.jsx)(c.u,{width:"100%",height:"100%",children:(0,o.jsxs)(d.r,{fill:"rgba(255, 255, 255, 0.6)",children:[(0,o.jsx)(u.m,{cursor:{cursor:"pointer"},content:a=>{let{active:e,payload:t}=a;return e&&t&&t.length?(0,o.jsxs)("div",{className:g.tooltipContainer,children:[(0,o.jsx)("p",{className:g.tooltipNameContainer,children:`${t[0].name}`}),(0,o.jsxs)("div",{className:g.tooltipSumContainer,children:[(0,o.jsx)("div",{style:{background:`${t[0].payload.fill}`}}),(0,o.jsx)("span",{children:Number(t[0].value).toFixed(2)})]})]}):null}}),(0,o.jsx)(b.F,{startOffset:0,className:g.chart,data:W,dataKey:"value",outerRadius:135,innerRadius:95,fill:"rgba(255, 255, 255, 0.6)",children:L.map(((a,e)=>(0,o.jsx)(m.f,{fill:a.backgroundColor},a.name)))})]})}),(0,o.jsxs)("p",{className:(0,f.A)(g.chartBalance,"animate__animated  animate__zoomIn animate__slow"),children:[(0,o.jsx)("span",{children:"\u20b4"}),null!==a&&void 0!==a&&a.periodTotal?Number(a.periodTotal).toFixed(2):Number(0).toFixed(2)]})]})}const N={tableContainer:"StatisticsTable_tableContainer__Ou-o9",tableTitleContainer:"StatisticsTable_tableTitleContainer__Q2Wmy",tableItemsContainer:"StatisticsTable_tableItemsContainer__6OTrT",tableItemsNoTransactionsContainer:"StatisticsTable_tableItemsNoTransactionsContainer__UapSZ",tableTotalsContainer:"StatisticsTable_tableTotalsContainer__zwPh0",tableTotalsItemsContainer:"StatisticsTable_tableTotalsItemsContainer__HLbNW",tableTotalsItemsExpense:"StatisticsTable_tableTotalsItemsExpense__KERu-",tableTotalsItemsIncome:"StatisticsTable_tableTotalsItemsIncome__lu6AA"},T={itemContainer:"StatisticsItem_itemContainer__xcq5R",itemLeftContainer:"StatisticsItem_itemLeftContainer__ONAvK",itemLeftContainerCube:"StatisticsItem_itemLeftContainerCube__QLhSx",itemRigtContainer:"StatisticsItem_itemRigtContainer__NJ9c7"},j=a=>{switch(a){case"Main expenses":return"rgba(254, 208, 87, 1)";case"Products":return"rgba(255, 0, 255, 1)";case"Car":return"rgba(253, 148, 152, 1)";case"Self care":return"rgba(197, 186, 255, 1)";case"Child care":return"rgba(127, 255, 0, 1)";case"Household products":return"rgba(74, 86, 226, 1)";case"Education":return"rgba(0, 255, 255, 1)";case"Leisure":return"rgba(255, 119, 0, 1)";case"Other expenses":return"rgba(0, 173, 132, 1)";case"Entertainment":return"rgba(177, 15, 72, 1)";default:return"rgb(128, 128, 128)"}};function S(a){let{variant:e,sum:t}=a;return(0,o.jsxs)("div",{className:T.itemContainer,children:[(0,o.jsxs)("div",{className:T.itemLeftContainer,children:[(0,o.jsx)("div",{style:{backgroundColor:j(e)},className:T.itemLeftContainerCube}),(0,o.jsx)("p",{className:T.itemLeftContainerName,children:e})]}),(0,o.jsx)("div",{className:T.itemRigtContainerSum,children:t})]})}function I(){var a;const{statisticsTransactions:e}=x(),t=null===e||void 0===e?void 0:e.expenseSummary,s=null===e||void 0===e?void 0:e.incomeSummary,i=null===e||void 0===e||null===(a=e.categoriesSummary)||void 0===a?void 0:a.length,r=null===e||void 0===e?void 0:e.categoriesSummary,n=null===r||void 0===r?void 0:r.filter((a=>"INCOME"!==a.type)),l=null===n||void 0===n?void 0:n.sort(((a,e)=>Number(a.total)-Number(e.total)));return(0,o.jsxs)("div",{className:N.tableContainer,children:[(0,o.jsxs)("div",{className:N.tableTitleContainer,children:[(0,o.jsx)("span",{children:"Category"}),(0,o.jsx)("span",{children:"Sum"})]}),(0,o.jsxs)("div",{className:N.tableItemsContainer,children:[0===i&&(0,o.jsx)("p",{className:N.tableItemsNoTransactionsContainer,children:"You don't have any transactions for this period...!"}),i>0&&l.map((a=>(0,o.jsx)(S,{variant:a.name,sum:Math.abs(a.total).toFixed(2)},a.name)))]}),(0,o.jsxs)("div",{className:N.tableTotalsContainer,children:[(0,o.jsxs)("div",{className:N.tableTotalsItemsContainer,children:[(0,o.jsx)("p",{children:"Expenses:"}),(0,o.jsx)("p",{className:N.tableTotalsItemsExpense,children:t?Number(t).toFixed(2):Number(0).toFixed(2)})]}),(0,o.jsxs)("div",{className:N.tableTotalsItemsContainer,children:[(0,o.jsx)("p",{children:"Income:"}),(0,o.jsx)("p",{className:N.tableTotalsItemsIncome,children:s?Number(s).toFixed(2):Number(0).toFixed(2)})]})]})]})}var y=t(1939);const O={statisticsContainer:"StatisticsTab_statisticsContainer__kd1A3",statisticsTitleAndChartContainer:"StatisticsTab_statisticsTitleAndChartContainer__RzYyg",statisticsTitle:"StatisticsTab_statisticsTitle__iH3af",statisticsDashboardAndTableContainer:"StatisticsTab_statisticsDashboardAndTableContainer__UjCEs"};function k(){const{statisticsLoading:a}=x();return(0,o.jsxs)("div",{className:O.statisticsContainer,children:[a&&(0,o.jsx)(y.A,{}),(0,o.jsxs)("div",{className:O.statisticsTitleAndChartContainer,children:[(0,o.jsx)("h1",{className:O.statisticsTitle,children:"Statistics"}),(0,o.jsx)(p,{})]}),(0,o.jsxs)("div",{className:O.statisticsDashboardAndTableContainer,children:[(0,o.jsx)(l,{}),(0,o.jsx)(I,{})]})]})}}}]);
//# sourceMappingURL=36.4582bb94.chunk.js.map