"use strict";(self.webpackChunkmoney_guard=self.webpackChunkmoney_guard||[]).push([[888],{223:(e,t,n)=>{n.d(t,{A:()=>a});n(5043);const a=n.p+"static/media/icons.9782a438c08eb38d12adfcf5c63007d3.svg"},1715:(e,t,n)=>{n.d(t,{A:()=>r});n(5043);var a=n(6276);const o={mainCont:"Balance_mainCont__r3lDD",balanceTitle:"Balance_balanceTitle__OFRpP",sumContainer:"Balance_sumContainer__DABV5"};var s=n(579);function r(){const{balanceAuth:e}=(0,a.A)(),t=e;return(0,s.jsxs)("div",{className:o.mainCont,children:[(0,s.jsx)("p",{className:o.balanceTitle,children:"Your balance"}),(0,s.jsxs)("div",{className:o.sumContainer,children:[(0,s.jsx)("span",{className:o.sumContainer,children:"\u20b4"}),t?(Math.round(100*e)/100).toFixed(2):0]})]})}},9957:(e,t,n)=>{n.d(t,{A:()=>s});const a={formButton:"FormButton_formButton__Ark9Y",multiColorButtton:"FormButton_multiColorButtton__ufgG2",whiteButtton:"FormButton_whiteButtton__TB25X"};var o=n(579);const s=e=>{let{type:t,text:n,handlerFunction:s,variant:r,isDisabled:i=!1}=e;return(0,o.jsx)("button",{type:t,onClick:s,className:`${a.formButton} ${a[r]}`,disabled:i,children:n})}},8955:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(5475);const o={logo:"Logo_logo__aO4TD",navbarLogo:"Logo_navbarLogo__yvBf7",formLogo:"Logo_formLogo__2ptZ+"};var s=n(223),r=n(579);const i=e=>{let{variant:t="default"}=e;return(0,r.jsxs)(a.N_,{className:`${o.logo} ${o[t]||o.default}`,to:"/",children:[(0,r.jsx)("svg",{"aria-label":"Logo de Money Guard",children:(0,r.jsx)("use",{href:`${s.A}#icon-logo`})}),(0,r.jsx)("span",{children:"Money Guard"})]})}},9888:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var a=n(5043),o=n(1715);const s={homeTabContainer:"HomeTab_homeTabContainer__C-cmC",balanceContainer:"HomeTab_balanceContainer__wUSO1"},r="ButtonAddTransactions_ButtonOpenModal__SeSL1";var i=n(579);const c=(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M10 0V20",stroke:"white",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M0 10L20 10",stroke:"white",strokeWidth:"2"})]}),l=e=>{let{onClick:t}=e;return(0,i.jsx)("button",{className:r,type:"button",onClick:t,children:c})};var d=n(3003);const m=e=>e.transactions.categories,u=e=>e.transactions.items,_=e=>e.transactions.transactionForUpdate,x=e=>e.transactions.trasactionIdForDelete,h={TransactionItem:"TransactionsItem_TransactionItem__xzRZH",row:"TransactionsItem_row__8lyFT",deleteButton:"TransactionsItem_deleteButton__CJrI2",editButton:"TransactionsItem_editButton__eTQvl",editText:"TransactionsItem_editText__6zcpq",editIcon:"TransactionsItem_editIcon__IrmyJ",fixData:"TransactionsItem_fixData__TdTKY",dynamicData:"TransactionsItem_dynamicData__FLKCE",sixthRow:"TransactionsItem_sixthRow__G8+7e",incomeText:"TransactionsItem_incomeText__RvHSu",expenseText:"TransactionsItem_expenseText__YFXmX",incomeBorder:"TransactionsItem_incomeBorder__xnRkj",expenseBorder:"TransactionsItem_expenseBorder__Doixs"};const p=n.p+"static/media/sprite.9782a438c08eb38d12adfcf5c63007d3.svg";var T=n(6918),j=n(3092);const C=e=>{const t=new Date(e),n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return`${String(t.getDate()).padStart(2,"0")}.${a}.${n}`},b=(e,t)=>{const n=t.find((t=>t.id===e));return n?n.name:"Unknown"},N=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),w=e=>{let{transaction:t,openDeleteModal:n,openEditModal:o}=e;const s=(0,d.wA)();(0,a.useEffect)((()=>{s((0,j.Fe)())}),[s]);const r=(0,d.d4)(m),{type:c,categoryId:l,comment:u,amount:_,transactionDate:x}=t,w="INCOME"===c?h.incomeText:h.expenseText,v="INCOME"===c?h.incomeBorder:h.expenseBorder;return(0,i.jsxs)("li",{className:`${h.TransactionItem} ${v}`,children:[(0,i.jsxs)("div",{className:`${h.row} ${h.firstRow}`,children:[(0,i.jsx)("span",{className:h.fixData,children:"Date"}),(0,i.jsx)("span",{className:h.dynamicData,children:C(x)})]}),(0,i.jsxs)("div",{className:`${h.row} ${h.secondRow}`,children:[(0,i.jsx)("span",{className:h.fixData,children:"Type"}),(0,i.jsx)("span",{className:h.dynamicData,children:"INCOME"===c?"+":"-"})]}),(0,i.jsxs)("div",{className:`${h.row} ${h.thirdRow}`,children:[(0,i.jsx)("span",{className:h.fixData,children:"Category"}),(0,i.jsx)("span",{className:h.dynamicData,children:"INCOME"===c?"Income":b(l,r)})]}),(0,i.jsxs)("div",{className:`${h.row} ${h.forthRow}`,children:[(0,i.jsx)("span",{className:h.fixData,children:"Comment"}),(0,i.jsx)("span",{className:h.dynamicData,children:u})]}),(0,i.jsxs)("div",{className:`${h.row} ${h.fifthRow}`,children:[(0,i.jsx)("span",{className:h.fixData,children:"Sum"}),(0,i.jsx)("span",{className:`${h.dynamicData} ${w}`,children:N("INCOME"===c?Number(_).toFixed(2):Number(-1*_).toFixed(2))})]}),(0,i.jsxs)("div",{className:`${h.row} ${h.sixthRow}`,children:[(0,i.jsx)("button",{type:"button",className:h.deleteButton,onClick:()=>{n(),s((0,T.wf)(t.id))},children:"Delete"}),(0,i.jsxs)("button",{type:"button",className:h.editButton,onClick:()=>{o(),s((0,T.Hd)({id:t.id,type:t.type}))},children:[(0,i.jsx)("svg",{className:h.editIcon,children:(0,i.jsx)("use",{href:`${p}#icon-edit`})}),(0,i.jsx)("span",{className:h.editText,children:"Edit"})]})]})]})},v="TransactionsList_transactionsListMainContainer__y7KK9",D=e=>{let{openEditModal:t,openDeleteModal:n}=e;const a=(0,d.d4)(u),o=null===a||void 0===a?void 0:a.filter((e=>"INCOME"!==e.type)),s=null===o||void 0===o?void 0:o.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate))),r=null===a||void 0===a?void 0:a.filter((e=>"INCOME"===e.type)),c=null===r||void 0===r?void 0:r.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate)));s.push(...c);const l=null===s||void 0===s?void 0:s.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate)));return(0,i.jsx)("ul",{className:v,children:l.map((e=>(0,i.jsx)(w,{transaction:e,openEditModal:t,openDeleteModal:n},e.id)))})},y={editIcon:"TransactionTableRow_editIcon__R5YRr",dataRow:"TransactionTableRow_dataRow__aCaqu",incomeText:"TransactionTableRow_incomeText__3LDLs",expenseText:"TransactionTableRow_expenseText__o6kzs",editButton:"TransactionTableRow_editButton__rtCTt",deleteButton:"TransactionTableRow_deleteButton__tI3kZ",TransactionDateColumn:"TransactionTableRow_TransactionDateColumn__YAR6J",TransactionCommentColumn:"TransactionTableRow_TransactionCommentColumn__EXN+Q",TransactionDeleteColumn:"TransactionTableRow_TransactionDeleteColumn__Ckdzw",TransactionEditColumn:"TransactionTableRow_TransactionEditColumn__IglPa"},g=e=>{let{transaction:t,openDeleteModal:n,openEditModal:a}=e;const o=(0,d.wA)(),s=(0,d.d4)(m);if(!t)return null;const{type:r,categoryId:c,comment:l,amount:u,transactionDate:_}=t,x=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");let h="INCOME"===r?y.incomeText:y.expenseText;return(0,i.jsxs)("tr",{className:y.dataRow,children:[(0,i.jsx)("td",{className:y.TransactionDateColumn,children:(e=>{const t=new Date(e).getFullYear(),n=new Date(e).getMonth()+1,a=new Date(e).getDate(),o=String(n).padStart(2,0);return`${String(a).padStart(2,0)}.${o}.${t}`})(_)}),(0,i.jsx)("td",{className:y.TransactionTypeColumn,children:"INCOME"===r?"+":"-"}),(0,i.jsx)("td",{className:y.TransactionCategoryColumn,children:(e=>{const t=s.find((t=>t.id===e));return t?t.name:"Unknown"})(c)}),(0,i.jsx)("td",{className:y.TransactionCommentColumn,children:l}),(0,i.jsx)("td",{className:`${y.TransactionAmountColumn} ${h}`,children:x("INCOME"===r?Number(u).toFixed(2):Number(-1*u).toFixed(2))}),(0,i.jsx)("td",{className:y.TransactionEditColumn,children:(0,i.jsx)("button",{className:y.editButton,type:"button",onClick:()=>{a(),o((0,T.Hd)({id:t.id,type:t.type}))},children:(0,i.jsx)("svg",{className:y.editIcon,children:(0,i.jsx)("use",{href:`${p}#icon-edit`})})})}),(0,i.jsx)("td",{className:y.TransactionDeleteColumn,children:(0,i.jsx)("button",{className:y.deleteButton,type:"button",onClick:()=>{n(),o((0,T.wf)(t.id))},children:"Delete"})})]})},M={transactionsTable:"TransactionsTable_transactionsTable__VnYFn",table:"TransactionsTable_table__lqMJ9",tableHead:"TransactionsTable_tableHead__4Z5sb",tableHeadRow:"TransactionsTable_tableHeadRow__h5NmL",tableBody:"TransactionsTable_tableBody__jT69x",dateColumn:"TransactionsTable_dateColumn__5GL4Q",deleteColumn:"TransactionsTable_deleteColumn__Kcn-D",typeColumn:"TransactionsTable_typeColumn__c0KQ-",categoryColumn:"TransactionsTable_categoryColumn__jNZbY",commentColumn:"TransactionsTable_commentColumn__B8G+b",sumColumn:"TransactionsTable_sumColumn__POsP0"},f=e=>{let{data:t,openDeleteModal:n,openEditModal:a}=e;return(0,i.jsx)("div",{className:M.transactionsTable,children:(0,i.jsxs)("table",{className:M.table,children:[(0,i.jsx)("thead",{className:M.tableHead,children:(0,i.jsxs)("tr",{className:M.tableHeadRow,children:[(0,i.jsx)("th",{className:M.dateColumn,children:"Date"}),(0,i.jsx)("th",{className:M.typeColumn,children:"Type"}),(0,i.jsx)("th",{className:M.categoryColumn,children:"Category"}),(0,i.jsx)("th",{className:M.commentColumn,children:"Comment"}),(0,i.jsx)("th",{className:M.sumColumn,children:"Sum"}),(0,i.jsx)("th",{className:M.editColumn}),(0,i.jsx)("th",{className:M.deleteColumn})]})}),(0,i.jsx)("tbody",{className:M.tableBody,children:t.map((e=>(0,i.jsx)(g,{transaction:e,openDeleteModal:n,openEditModal:a},e.id)))})]})})};var I=n(9657);const B="TransactionModal_modal__rm63S",E="TransactionModal_modalBg__-3CXQ",F=e=>{let{children:t,closeModal:n}=e;const o=(0,a.useRef)();(0,a.useEffect)((()=>{document.body.style.overflow="hidden";const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",e)}}),[n]);return(0,i.jsx)("div",{ref:o,className:B,onClick:e=>{e.target===e.currentTarget&&n()},children:(0,i.jsx)("div",{className:E,children:t})})},$="ModalDeleteTransaction_modalContent__EXndf",R="ModalDeleteTransaction_buttonsWrapper__6vZvY";var S=n(9957),k=n(8955),A=n(1036);const L=e=>{let{closeModal:t}=e;const n=(0,d.wA)(),a=(0,d.d4)(x),o=(0,I.Ub)({query:"(min-width: 768px)"});return(0,i.jsx)(F,{closeModal:t,children:(0,i.jsxs)("div",{className:$,children:[o&&(0,i.jsx)(k.A,{variant:"formLogo"}),(0,i.jsx)("p",{children:"Are you sure you want to delete this transaction?"}),(0,i.jsxs)("div",{className:R,children:[(0,i.jsx)(S.A,{type:"button",text:"Delete",variant:"multiColorButtton",handlerFunction:()=>{a?n((0,j.Uw)(a)).unwrap().then((()=>{t()})).catch((e=>{A.oR.error("Failed to delete transaction. Please try again."),console.error(e)})):A.oR.error("Transaction ID not found.")}}),(0,i.jsx)(S.A,{type:"button",text:"Cancel",variant:"whiteButtton",handlerFunction:()=>t()})]})]})})};var O=n(1870),q=n(3892),Y=n(899),H=n(5200),W=n(1899),U=n.n(W),K=(n(5015),n(1479));const X={inputField:"TransactionForm_inputField__6oatZ",modalContent:"TransactionForm_modalContent__dtYoX",closeButton:"TransactionForm_closeButton__gLG-e",formTitle:"TransactionForm_formTitle__ZlP2Z",flexContainer:"TransactionForm_flexContainer__4Qfau",inputWrapper:"TransactionForm_inputWrapper__4yj4J",date:"TransactionForm_date__Hdx5h",icon:"TransactionForm_icon__-cEA4",buttonsWrapper:"TransactionForm_buttonsWrapper__Aj1-+",switcheWrapper:"TransactionForm_switcheWrapper__WxmJ0",income:"TransactionForm_income__INKov",expense:"TransactionForm_expense__swPpE"};(0,W.registerLocale)("en-US",K.A);const Z=e=>{let{closeModal:t,isEditMode:n,selectValue:o,currentTransactionDate:s,currentTransactionComment:r,currentTransactionAmount:c}=e;const l=(0,d.wA)();(0,a.useEffect)((()=>{l((0,j.Fe)())}),[l]);const u=(0,d.d4)(m),x=(0,d.d4)(_),h=!!n&&"INCOME"===x.type,[T,C]=(0,a.useState)(h),b=(0,I.Ub)({query:"(min-width: 768px)"}),[N,w]=(0,a.useState)(new Date),v=T?Y.Ik({amount:Y.Yj().required("Required*"),comment:Y.Yj().required("Required*")}):Y.Ik({amount:Y.Yj().required("Required*"),comment:Y.Yj().required("Required*"),category:Y.Yj().required("Required*")});return(0,i.jsxs)("div",{className:X.modalContent,children:[b&&(0,i.jsx)("button",{className:X.closeButton,onClick:()=>t(),children:(0,i.jsx)("svg",{children:(0,i.jsx)("use",{href:`${p}#icon-close`})})}),(0,i.jsx)(q.l1,{initialValues:{amount:"",comment:""},validationSchema:v,onSubmit:(e,a)=>{let{setSubmitting:o,setStatus:s}=a;o(!0);const r={transactionDate:N,type:T?"INCOME":"EXPENSE",categoryId:u.find((t=>t.name===(e.category||"Income"))).id,comment:e.comment,amount:T?e.amount:0-e.amount},i=n?(0,j.AF)({transactionId:x.id,transactionData:r}):(0,j.yY)(r);l(i).unwrap().then((()=>{t(),l((0,O.$4)())})).catch((e=>{s({success:!1,error:e}),o(!1)}))},children:e=>{let{isSubmitting:a}=e;return(0,i.jsxs)(q.lV,{children:[(0,i.jsx)("h2",{className:X.formTitle,children:n?"Edit transaction":"Add transaction"}),(0,i.jsxs)("div",{className:X.switcheWrapper,children:[(0,i.jsx)("span",{className:`${T?X.income:""}`,children:"Income"}),n?(0,i.jsx)("span",{className:X.delimeter,children:"/"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"checkbox",id:"switcherButton",onChange:()=>C(!T),checked:!T}),(0,i.jsx)("label",{htmlFor:"switcherButton"})]}),(0,i.jsx)("span",{className:`${T?"":X.expense}`,children:"Expense"})]}),(0,i.jsxs)("div",{className:X.inputWrapper,children:[!T&&(0,i.jsxs)("div",{className:`${X.inputField} ${X.category}`,children:[(0,i.jsxs)(q.D0,{as:"select",name:"category",autoFocus:!0,required:!0,children:[(0,i.jsx)("option",{value:"",children:o||"Select your category"}),u.filter((e=>"EXPENSE"===e.type)).map((e=>(0,i.jsx)("option",{children:e.name},e.id)))]}),(0,i.jsx)(q.Kw,{name:"category",component:"p"})]}),(0,i.jsxs)("div",{className:X.flexContainer,children:[(0,i.jsxs)("div",{className:`${X.inputField} ${X.amount}`,children:[(0,i.jsx)(q.D0,{type:"number",name:"amount",min:"1",placeholder:c?Math.abs(c).toFixed(2):Number(0).toFixed(2)}),(0,i.jsx)(q.Kw,{name:"amount",component:"p"})]}),(0,i.jsxs)("div",{className:`${X.inputField} ${X.date}`,children:[(0,i.jsx)(U(),{dateFormat:"dd.MM.yyyy",selected:N,onChange:e=>w(e),value:s,locale:"en-US",calendarStartDay:1,maxDate:new Date}),(0,i.jsx)(H.wIk,{className:X.icon})]})]}),(0,i.jsxs)("div",{className:`${X.inputField} ${X.comment}`,children:[(0,i.jsx)(q.D0,{type:"text",name:"comment",placeholder:r}),(0,i.jsx)(q.Kw,{name:"comment",component:"p"})]})]}),(0,i.jsxs)("div",{className:X.buttonsWrapper,children:[(0,i.jsx)(S.A,{type:"submit",text:"save",variant:"multiColorButtton",isDisabled:a}),(0,i.jsx)(S.A,{type:"button",text:"cancel",variant:"whiteButtton",handlerFunction:()=>t()})]})]})}})]})},P=e=>{let{closeModal:t}=e;const n=(0,d.d4)(_);console.log(n);const a=(0,d.d4)(u),o=null===a||void 0===a?void 0:a.find((e=>e.id===n.id));console.log(o);const s=new Date(o.transactionDate).toLocaleDateString(),r=(0,d.d4)(m);return(0,i.jsx)(Z,{currentTransactionAmount:o.amount,currentTransactionComment:o.comment,currentTransactionDate:s,selectValue:((e,t)=>{const n=t.find((t=>t.id===e));return n?n.name:"Unknown"})(o.categoryId,r),closeModal:t,isEditMode:!0})},V=e=>{let{closeModal:t}=e;return(0,i.jsx)(Z,{closeModal:t,isEditMode:!1})},G=e=>{let{closeModal:t}=e;return(0,i.jsx)(F,{closeModal:t,children:(0,i.jsx)(P,{closeModal:t})})},J=e=>{let{closeModal:t}=e;return(0,i.jsx)(F,{closeModal:t,children:(0,i.jsx)(V,{closeModal:t})})};var Q=n(1939),z=n(8387);const ee="TransactionManager_transactionManagerMainContainer__ZdObt",te="TransactionManager_transactionsListAndTableContainer__qmT5E",ne="TransactionManager_transactionManagerModalsContainer__VqnX9",ae=()=>{const e=(0,d.wA)();(0,a.useEffect)((()=>{e((0,j.mh)())}),[e]);const t=(0,d.d4)(u),n=null===t||void 0===t?void 0:t.filter((e=>"INCOME"!==e.type)),o=null===n||void 0===n?void 0:n.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate))),s=null===t||void 0===t?void 0:t.filter((e=>"INCOME"===e.type)),r=null===s||void 0===s?void 0:s.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate)));o.push(...r);const c=null===o||void 0===o?void 0:o.sort(((e,t)=>new Date(t.transactionDate)-new Date(e.transactionDate))),[m,_]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),[p,T]=(0,a.useState)(!1),C=(0,I.Ub)({query:"(min-width: 768px)"}),[b,N]=(0,a.useState)(!0);if((0,a.useEffect)((()=>{setTimeout((()=>N(!1)),1500)}),[b]),b)return(0,i.jsx)(Q.A,{});return(0,i.jsxs)("div",{className:ee,children:[(0,i.jsxs)("div",{className:(0,z.A)(te,"animate__animated animate__fadeIn animate__slow"),children:[C?(0,i.jsx)(f,{data:c,openDeleteModal:()=>h(!0),openEditModal:()=>T(!0)}):(0,i.jsx)(D,{data:t,openDeleteModal:()=>h(!0),openEditModal:()=>T(!0)}),(0,i.jsx)(l,{onClick:()=>_(!0)})]}),(0,i.jsxs)("div",{className:ne,children:[m&&(0,i.jsx)(J,{closeModal:()=>_(!1)}),x&&(0,i.jsx)(L,{closeModal:()=>h(!1)}),p&&(0,i.jsx)(G,{closeModal:()=>T(!1)})]})]})};function oe(){return(0,i.jsxs)("div",{className:s.homeTabContainer,children:[(0,i.jsx)("div",{className:s.balanceContainer,children:(0,i.jsx)(o.A,{})}),(0,i.jsx)(ae,{})]})}}}]);
//# sourceMappingURL=888.95a5cb8c.chunk.js.map